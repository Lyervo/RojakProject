<!DOCTYPE html>
<html lang="en">

    <head>

        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <meta name="description" content="">
        <meta name="author" content="">

        <title>UniMeals</title>



        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
        <link href="//maxcdn.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
        <script src="//maxcdn.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js"></script>
        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.1/css/all.css" integrity="sha384-gfdkjb5BdAXd+lj+gudLWI+BXq4IuLW5IT+brZEZsLFm++aCMlF1V92rMkPaX4PP" crossorigin="anonymous">
        <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
        <link href="../css/footer.css" rel="stylesheet" type="text/css"/>
        <!-- Bootstrap core CSS -->
        <link href="../vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

        <!--login-->
        <script src="../JS/login.js" type="text/javascript"></script>
        <link href="../css/login_style.css" rel="stylesheet" type="text/css"/>

        <!-- Custom styles for this template -->
        <link href="../css/shop-homepage.css" rel="stylesheet">
        <link href="../css/style.css" rel="stylesheet" type="text/css"/>

        <script src="../JS/JavaScript.js" type="text/javascript"></script>

    </head>

    <body onload="initTab()">

        <!-- Navigation -->
        <nav class="navbar navbar-expand-lg navbar-dark  fixed-top">
            <div class="container">
                <a class="navbar-brand" href="?action=home">UniMeals</a>
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarResponsive">
                    <ul class="navbar-nav ml-auto">
                        <li class="nav-item">
                            <a class="nav-link" href="../controller/?action=home">Home</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="../controller/?action=about">About us</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" id="login_button"  role="button" data-toggle="modal" data-target="#login-modal">Login/Sign Up</a>
                        </li>





                    </ul>
                </div>
            </div>
        </nav>

        <!--        <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                    <div class="modal-dialog" role="document">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </div>
                            <br><br>
        
        
                        </div>
                    </div>
                </div>-->

        <?php
        require '../login_session/session.php';
        ?>

        <div class="modal fade" id="login-modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="display: none;">

            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header" align="center">
                        <img class="img-circle" id="img_logo" src="../images/logo.jpg">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span  aria-hidden="true"> <i class="fas fa-times"></i></span>
                        </button>
                    </div>

                    <!-- Begin # DIV Form -->
                    <div id="div-forms">

                        <!-- Begin # Login Form -->
                        <form action="../controller/" method="post" id="login-form">
                            <div class="modal-body">
                                <div id="div-login-msg">
                                    <div id="icon-login-msg" class="glyphicon glyphicon-chevron-right"></div>
                                    <span id="text-login-msg">Type your username and password.</span>
                                </div>
                                <input  id="login_username" class="form-control" type="text" name="username" placeholder="Username" required>
                                <input id="login_password" class="form-control" type="password" name="password" placeholder="Password" required>
                                <div class="checkbox">
                                    <label>
                                        <input type="checkbox"> Remember me
                                    </label>
                                </div>
                            </div>
                            <div class="modal-footer">
                                <div>
                                    <input type="submit" name="Login" value="Login" class="btn login_btn">
                                </div>
                                <div>
                                    <button id="login_lost_btn" type="button" class="btn btn-link">Lost Password?</button>
                                    <button id="login_register_btn" type="button" class="btn btn-link">Register</button>
                                </div>
                            </div>
                        </form>
                        <!-- End # Login Form -->

                        <!-- Begin | Lost Password Form -->
                        <form id="lost-form" style="display:none;">
                            <div class="modal-body">
                                <div id="div-lost-msg">
                                    <div id="icon-lost-msg" class="glyphicon glyphicon-chevron-right"></div>
                                    <span id="text-lost-msg">Type your e-mail.</span>
                                </div>
                                <input id="lost_email" class="form-control" type="text" placeholder="E-Mail (type ERROR for error effect)" required>
                            </div>
                            <div class="modal-footer">
                                <div>
                                    <button type="submit" class="btn btn-primary btn-lg btn-block">Send</button>
                                </div>
                                <div>
                                    <button id="lost_login_btn" type="button" class="btn btn-link">Log In</button>
                                    <button id="lost_register_btn" type="button" class="btn btn-link">Register</button>
                                </div>
                            </div>
                        </form>
                        <!-- End | Lost Password Form -->

                        <!-- Begin | Register Form -->
                        <form action="../controller/" method="post" id="register-form" style="display:none;">
                            <div class="modal-body">
                                <div id="div-register-msg">
                                    <div id="icon-register-msg" class="glyphicon glyphicon-chevron-right"></div>
                                    <span id="text-register-msg">Register an account.</span>
                                </div>
                                <input id="register_username" class="form-control" type="text" name="username" placeholder="Username" required>
                                <input id="register_email" class="form-control" type="email" name="email" placeholder="E-Mail" required>
                                <input id="register_password" class="form-control" type="password" name="password" pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}" placeholder="Password" required>
                            </div>
                            <div class="modal-footer">
                                <div>
                                    <input type="submit" name="register" value="Register" class="btn login_btn">

                                </div>
                                <div>
                                    <button id="register_login_btn" type="button" class="btn btn-link">Log In</button>
                                    <button id="register_lost_btn" type="button" class="btn btn-link">Lost Password?</button>
                                </div>
                            </div>
                        </form>
                        <!-- End | Register Form -->

                    </div>
                    <!-- End # DIV Form -->

                </div>
            </div>
        </div>




        <script>
            
            var ingredientTab = 1;
            var stepTab = 1;
            var tagTab = 1;
            
            var ingredientAjax = [];
            var stepAjax = [];
            var tagAjax = [];
            var user_id;
            
            
            
            function suggestIngredient(i)
            {
                
                var name = document.getElementById("ingredientName"+i).value;
                
                if (name.length <= 3) 
                {
                    
                    return;
                }else
                {
                    var xmlhttp = new XMLHttpRequest();
                    xmlhttp.onreadystatechange = function()
                    {
                        if (this.readyState == 4 && this.status == 200)
                        {
                            document.getElementById("suggest"+i).innerHTML = this.responseText;
                        }
                    };
                    
                    xmlhttp.open("GET", "../recipe/suggest_ingredient.php?name="+name, true);
                    xmlhttp.send();
                }
            }
            
            function insertIngredientStep(recipeID)
            {
                alert(recipeID);
                for(var i = 0;i<ingredientAjax.length;i++)
                {
                    ajaxRecipeIngredientRequest(ingredientAjax[i]+"&recipeID="+recipeID);
                }
                
                ajaxRecipeStepRequest(recipeID);
                
                for(var i=0;i<tagAjax.length;i++)
                {
                    ajaxRecipeTagRequest(tagAjax[i]+"&recipe_id="+recipeID);
                }
            }
            
            function ajaxRecipeRequest()
            {
                var time = document.getElementById("recipeTime").value;
                var recipeName = document.getElementById("recipeName").value;
                var recipeDesc = document.getElementById("recipeDesc").value;
                var recipeServing = document.getElementById("recipeServing").value;
                var difficulty = document.getElementById("difficulty").value;
                
                var formData = new FormData();
                
                var imageFileInput = document.getElementById('image_file');
                if(imageFileInput.value.length>0)
                {
                    var image_file = imageFileInput.files[0];
                    
                    formData.append('image_file', image_file,"recipe_image");
                }
                formData.append('time',time);
                formData.append('name',recipeName);
                formData.append('desc',recipeDesc);
                formData.append('serving',recipeServing);
                formData.append('difficulty',difficulty);
                formData.append('id',user_id);
                
                
                
                
                
                
                
                    var xmlhttp = new XMLHttpRequest();
                    xmlhttp.onreadystatechange = function()
                    {
                        if (this.readyState == 4 && this.status == 200)
                        {
                            
                        }
                    };
                    xmlhttp.onload = function()
                    {
                        insertIngredientStep(this.responseText);
                    };
                    xmlhttp.open("POST", "../recipe/create_recipe.php", true);
                    xmlhttp.send(formData);
                
                
            
            }
            
            function ajaxRecipeIngredientRequest(request)
            {

                console.log(request);
                if (request.length == 0) 
                {
                    alert("error in recipe ingredient request");
                    return;
                }else
                {
                    var xmlhttp = new XMLHttpRequest();
                    xmlhttp.onreadystatechange = function()
                    {
                        if (this.readyState == 4 && this.status == 200)
                        {
                            
                        }
                    };
                    xmlhttp.open("GET", "../recipe/create_recipe_ingredient.php?"+request, true);
                    xmlhttp.send();
                }
                
            
            }
            
            function ajaxRecipeStepRequest(id)
            {
                
                alert("running with "+id);
                alert(stepTab);
                
                for(var i=1;i<stepTab+1;i++)
                {
                    
  
                    var formData = new FormData();
                    
                    var step = document.getElementById("step"+i).value;
                    
                    formData.append("step",step);
                    formData.append("recipe_id",id);
                    
                    var stepImageInput = document.getElementById("stepImage"+i);
                    if(stepImageInput.value.length>0)
                    {
                        var stepImageFile = stepImageInput.files[0];
   
                        formData.append('step_image', stepImageFile,"step_image");
                    }else
                    {
                      
                    }
                
                    var xmlhttp = new XMLHttpRequest();
                    xmlhttp.onreadystatechange = function()
                    {
                        if (this.readyState == 4 && this.status == 200)
                        {
                            alert(this.responseText);
                        }
                    };
                    xmlhttp.open("POST", "../recipe/create_recipe_step.php", true);
                    xmlhttp.send(formData);
                }
                
                
                
            
            }
            
            function ajaxRecipeTagRequest(request)
            {
                
                if (request.length == 0) 
                {
                    alert("error in recipe tag request");
                    return;
                    
                }else
                {
                    var xmlhttp = new XMLHttpRequest();
                    xmlhttp.onreadystatechange = function()
                    {
                        if (this.readyState == 4 && this.status == 200)
                        {
                            console.log(this.responseText);
                        }
                    };
                    xmlhttp.open("GET", "../recipe/create_recipe_tag.php?"+request, true);
                    xmlhttp.send();
                }
                
            
            }
            
            function initTab()
            {
                document.getElementById("ingredientSpace").innerHTML = "<input type='text' placeholder='Ingredient 1' id='ingredientName1' oninput='suggestIngredient(1)'><div id='suggest1'></div>\n\
                                                                        <input type='number' placeholder='Amount' id='ingredientAmount1'>\n\
                                                                        <input type='text' placeholder='In what unit?' id='ingredientUnit1'>\n\
                                                                        <input type='text' placeholder='Chop?Diced?Blended?' id='ingredientMod1'>\n\
                                                                        <input type='checkbox' id='vegan1'><button onclick='removeIngredient(1)'>Remove</button><br>";
                document.getElementById("stepSpace").innerHTML = "<input type='text' placeholder='Step 1...' id='step1'><br>Upload an image for step 1:<input type='file' id='stepImage1'><br><button onclick='removeStep(1)'>Remove</button><br>";
                document.getElementById("tagSpace").innerHTML = "<input type='text' placeholder='Enter a tag...' id='tag1'><button onclick='removeTag(1)'>Remove</button><br>";
            }
            
            function addTagTab()
            {
                var existingTabs = "";
                
                for(var i=1;i<=tagTab;i++)
                {
                    var tagName = document.getElementById("tag"+i).value;

                    existingTabs += "<input type='text' value='"+tagName+"' placeholder='Enter a tag...' id='tag"+i+"'>";
                    
                    existingTabs+= "<button onclick='removeTag("+i+")'>Remove</button><br>";
            
                }
                
                tagTab++;
                
                existingTabs += "<input type='text' placeholder='Enter a tag...' id='tag"+tagTab+"'><button onclick='removeTag("+tagTab+")'>Remove</button><br>";
                
                document.getElementById("tagSpace").innerHTML = existingTabs;
            }
            
            function addIngredientTab()
            {
                
                var existingTabs = "";
                
                for(var i=1;i<=ingredientTab;i++)
                {
                    var ingredientName = document.getElementById("ingredientName"+i).value;
                    var ingredientAmount = document.getElementById("ingredientAmount"+i).value;
                    var ingredientUnit = document.getElementById("ingredientUnit"+i).value;
                    var ingredientMod = document.getElementById("ingredientMod"+i).value;
                    
                    
                    
                    existingTabs += "<input type='text' placeholder='Ingredient "+i+"' id='ingredientName"+i+"' value='"+ingredientName+"' oninput='suggestIngredient("+i+")'><div id='suggest"+i+"'></div>\n\
                               <input type='number' placeholder='Amount' id='ingredientAmount"+i+"' value='"+ingredientAmount+"'>\n\
                               <input type='text' placeholder='In what unit?' id='ingredientUnit"+i+"' value='"+ingredientUnit+"'>\n\
                               <input type='text' placeholder='Chop?Diced?Blended?' id='ingredientMod"+i+"' value='"+ingredientMod+"'>";
                    if(document.getElementById("vegan"+i).checked)
                    {
                        existingTabs+= "<input type='checkbox' id='vegan"+i+"' checked>";
                    }else
                    {
                        existingTabs+= "<input type='checkbox' id='vegan"+i+"'>";
                    }
                    existingTabs+= "<button onclick='removeIngredient("+i+")'>Remove</button><br>"
            
                }
                
                ingredientTab++;
                
                existingTabs += "<input type='text' placeholder='Ingredient "+ingredientTab+"' id='ingredientName"+ingredientTab+"' oninput='suggestIngredient("+ingredientTab+")'><div id='suggest"+ingredientTab+"'></div>\n\
                               <input type='number' placeholder='Amount' id='ingredientAmount"+ingredientTab+"'>\n\
                               <input type='text' placeholder='In what unit?' id='ingredientUnit"+ingredientTab+"'>\n\
                               <input type='text' placeholder='Chop?Diced?Blended?' id='ingredientMod"+ingredientTab+"'>\n\
                               <input type='checkbox' id='vegan"+ingredientTab+"'><button onclick='removeIngredient("+ingredientTab+")'>Remove</button><br>";
                
                document.getElementById("ingredientSpace").innerHTML = existingTabs;
                
                
            }
            
            function removeIngredient(index)
            {
                if(ingredientTab>1)
                {
                    var existingTabs = "";

                    var removed = false;

                    for(var i=1;i<=ingredientTab;i++)
                    {
                        if(i==index)
                        {
                            removed = true;
                        }else if(!removed)
                        {
                            var ingredientName = document.getElementById("ingredientName"+i).value;
                            var ingredientAmount = document.getElementById("ingredientAmount"+i).value;
                            var ingredientUnit = document.getElementById("ingredientUnit"+i).value;
                            var ingredientMod = document.getElementById("ingredientMod"+i).value;



                            existingTabs += "<input type='text' placeholder='Ingredient "+i+"' id='ingredientName"+i+"' value='"+ingredientName+"' oninput='suggestIngredient("+i+")'><div id='suggest"+i+"'></div>\n\
                                       <input type='number' placeholder='Amount' id='ingredientAmount"+i+"' value='"+ingredientAmount+"'>\n\
                                       <input type='text' placeholder='In what unit?' id='ingredientUnit"+i+"' value='"+ingredientUnit+"'>\n\
                                       <input type='text' placeholder='Chop?Diced?Blended?' id='ingredientMod"+i+"' value='"+ingredientMod+"'>";
                            if(document.getElementById("vegan"+i).checked)
                            {
                                existingTabs+= "<input type='checkbox' id='vegan"+i+"' checked>";
                            }else
                            {
                                existingTabs+= "<input type='checkbox' id='vegan"+i+"'>";
                            }
                            
                            existingTabs+= "<button onclick='removeIngredient("+i+")'>Remove</button>"
                            
                        }else if(removed)
                        {
                            var ingredientName = document.getElementById("ingredientName"+i).value;
                            var ingredientAmount = document.getElementById("ingredientAmount"+i).value;
                            var ingredientUnit = document.getElementById("ingredientUnit"+i).value;
                            var ingredientMod = document.getElementById("ingredientMod"+i).value;



                            existingTabs += "<input type='text' placeholder='Ingredient "+(i-1)+"' id='ingredientName"+(i-1)+"' value='"+ingredientName+"' oninput='suggestIngredient("+(i-1)+")'><div id='suggest"+(i-1)+"'></div>\n\
                                       <input type='number' placeholder='Amount' id='ingredientAmount"+(i-1)+"' value='"+ingredientAmount+"'>\n\
                                       <input type='text' placeholder='In what unit?' id='ingredientUnit"+(i-1)+"' value='"+ingredientUnit+"'>\n\
                                       <input type='text' placeholder='Chop?Diced?Blended?' id='ingredientMod"+(i-1)+"' value='"+ingredientMod+"'>";
                            if(document.getElementById("vegan"+i).checked)
                            {
                                existingTabs+= "<input type='checkbox' id='vegan"+(i-1)+"' checked>";
                            }else
                            {
                                existingTabs+= "<input type='checkbox' id='vegan"+(i-1)+"'>";
                            }
                            
                            existingTabs+= "<button onclick='removeIngredient("+(i-1)+")'>Remove</button>"
                            
                        }

                    }

                    ingredientTab--;



                    document.getElementById("ingredientSpace").innerHTML = existingTabs;
                }
            }
            
            function addStepTab()
            {
                var existingSteps ;//= "<b>TEAST</b>";
                
//                for(var i=1;i<=stepTab;i++)
//                {
//                    var step = document.getElementById("step"+i).value;
//                   
//                    existingSteps += "<input type='text' placeholder='Step "+i+"...' id='step"+i+"' value='"+step+"'><br>Upload an image for step "+i+":<input type='file' id='stepImage"+i+"'><br><button onclick='removeStep("+i+")'>Remove</button><br>";
//                    
//                }
                
                
                stepTab++;
                alert(stepTab);
                existingSteps+="<input type='text' placeholder='Step "+stepTab+"...' id='step"+stepTab+"'><br>Upload an image for step "+stepTab+":<input type='file' id='stepImage"+stepTab+"'><br><button onclick='removeStep("+stepTab+")'>Remove</button><br>";
                
                document.getElementById("stepSpace").innerHTML += existingSteps;
                
                
            }
            
            function removeStep(index)
            {
                if(stepTab>1)
                {
                    var existingSteps = "";
                    var removed = false;

                    for(var i=1;i<=stepTab;i++)
                    {
                        if(index==i)
                        {
                            removed = true;
                        }else if(!removed)
                        {
                            var step = document.getElementById("step"+i).value;
                            
                            existingSteps += "<input type='text' placeholder='Step "+i+"...' id='step"+i+"' value='"+step+"'><br>Upload an image for step "+i+":<input type='file' id='stepImage"+i+"'><br><button onclick='removeStep("+i+")'>Remove</button><br>";

                        }else if(removed)
                        {
                            var step = document.getElementById("step"+(i)).value;
                           
                            existingSteps += "<input type='text' placeholder='Step "+(i-1)+"...' id='step"+(i-1)+"' value='"+step+"'><br>Upload an image for step "+(i-1)+":<input type='file' id='stepImage"+(i-1)+"'><br><button onclick='removeStep("+(i-1)+")'>Remove</button><br>";
                        }
                    }


                    stepTab--;


                    document.getElementById("stepSpace").innerHTML = existingSteps;
                }
            }
            
            function removeTag(index)
            {
                if(tagTab>1)
                {
                    var existingTags = "";
                    var removed = false;

                    for(var i=1;i<=tagTab;i++)
                    {
                        if(index==i)
                        {
                            removed = true;
                        }else if(!removed)
                        {
                            var tag = document.getElementById("tag"+i).value;
                            existingTags += "<input type='text' placeholder='Enter a Tag...' id='tag"+i+"' value='"+tag+"'><button onclick='removeTag("+i+")'>Remove</button><br>";

                        }else if(removed)
                        {
                            var tag = document.getElementById("tag"+(i)).value;
                            existingTags += "<input type='text' placeholder='Enter a Tag' id='tag"+(i-1)+"' value='"+tag+"'><button onclick='removeTag("+(i-1)+")'>Remove</button><br>";
                        }
                    }


                    tagTab--;


                    document.getElementById("tagSpace").innerHTML = existingTags;
                }
            }
            
            function checkLoginStatus(task)
            {
                var xmlhttp = new XMLHttpRequest();
                    xmlhttp.onreadystatechange = function()
                    {
                        if (this.readyState == 4 && this.status == 200)
                        {
                            if(this.responseText >= 1)
                            {
                                
                                user_id = this.responseText;
                                submitData();    
                                
                            }else
                            {
                                alert("Please login to perform this action");
                            }
                        }
                    };
                    xmlhttp.open("GET", "../user/checkLoginStatus.php", true);
                    xmlhttp.send();
            }
            
            function submitData()
            {
               
                tagAjax = [];
                stepAjax = [];
                ingredientAjax = [];
                
                var time = document.getElementById("recipeTime").value;
                var recipeName = document.getElementById("recipeName").value;
                var recipeDesc = document.getElementById("recipeDesc").value;
                var recipeServing = document.getElementById("recipeServing").value;
                var difficulty = document.getElementById("difficulty").value;
                
                if(recipeName===""||recipeDesc===""||recipeServing==="")
                {
                    document.getElementById("recipeName").scrollIntoView();
                    alert("Missing Recipe information please try again.");
                    return;
                }
                
                
                
                
                
                
                for(var i=1;i<=ingredientTab;i++)
                {
                    var ingredientName = document.getElementById("ingredientName"+i).value;
                    var ingredientAmount = document.getElementById("ingredientAmount"+i).value;
                    var ingredientUnit = document.getElementById("ingredientUnit"+i).value;
                    var ingredientMod = document.getElementById("ingredientMod"+i).value;
                    
                    if(ingredientName===""||ingredientAmount==="")
                    {
                        document.getElementById("ingredientName").scrollIntoView();
                        alert("Missing ingredient name/amount, please try again.");
                        
                        return;
                    }
                    
                    
                    if(ingredientUnit === "")
                    {
                        ingredientUnit = "null";
                    }
                    
                    if(ingredientMod === "")
                    {
                        ingredientMod = "null";
                    }
                    
                    var vegan;
                    
                    if(document.getElementById("vegan"+i).checked)
                    {
                        vegan = "1";
                    }else
                    {
                        vegan = "0";
                    }
                    
                    
                    
                    ingredientAjax.push("name="+ingredientName+"&amount="+ingredientAmount+"&unit="+ingredientUnit+"&mod="+ingredientMod+"&vegan="+vegan);
                    
                }
                
                
                
                
                
                
                for(var i=1;i<=tagTab;i++)
                {
                    var tag = "tag="+document.getElementById("tag"+i).value;
                    if(tag==="")
                    {
                        alert("Empty fields in tag, please try again.");
                        return;
                    }
                    
                    tagAjax.push(tag);
                }
                
                
                var noTags = document.getElementsByClassName("noTag");
                
                for(var i=0;i<noTags.length;i++)
                {
                    if(noTags[i].checked)
                    {
                        
                        tagAjax.push("tag="+noTags[i].value);
                      
                    }
                }
                
                ajaxRecipeRequest();

            }
            
            
            
            
            
            
        </script>
        <p>Submit an image of the recipe</p>
        <input type="file" name="image_file" id="image_file">
        <br>
        <input type="text" placeholder="Recipe Name" id="recipeName">
        <br>
        <input type="text" placeholder="Recipe Description" id="recipeDesc">
        <br>
        <input type="number" placeholder="Recommended servings" id="recipeServing">
        <br>
        <select id="difficulty">
            <option value="Easy">College Student(Easy)</option>
            <option value="Medium">Chef(Medium)</option>
            <option value="Hard">Michelin Chef(Hard)</option>
        </select>
        <br>
        <input type="number" placeholder="Cooking time(Minutes)" id="recipeTime">
        <br>
        <br>
        <div id="ingredientSpace"></div>
        <button onclick="addIngredientTab()">Add Ingredient</button>
        <p>For security measure, please only upload your image only after you finish all your steps, if you remove or add a step, all existing file uploads will be reset.</p>
        <div id="stepSpace"></div>
        <button onclick="addStepTab()">Add Step</button>
        <br>
        <br>
        <div id="tagSpace"></div>
        <button onclick="addTagTab()">Add Tag</button>
        <br>
        <p>Exclude:</p>
        <input type="checkbox" value="no_wheat" class="noTag">Wheat<br>
        <input type="checkbox" value="no_crustacean" class="noTag">Crustaceans<br>
        <input type="checkbox" value="no_egg" class="noTag">Egg<br>
        <input type="checkbox" value="no_fish" class="noTag">Fish<br>
        <input type="checkbox" value="no_peanut" class="noTag">Peanuts<br>
        <input type="checkbox" value="no_soy" class="noTag">Soy<br>
        <input type="checkbox" value="no_milk" class="noTag">Milk<br>
        <input type="checkbox" value="no_nuts" class="noTag">Nuts<br>
        <input type="checkbox" value="no_celery" class="noTag">Celery<br>
        <input type="checkbox" value="no_mustard" class="noTag">Mustard<br>
        <input type="checkbox" value="no_sesame" class="noTag">Sesame<br>
        <input type="checkbox" value="no_shellfish" class="noTag">Shellfish<br>
        
        <button onclick="checkLoginStatus()">Submit Recipe</button>
        
    </body>
</html>
